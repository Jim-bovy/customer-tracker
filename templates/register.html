{% extends 'layout.html' %}
{% block title %}สมัครสมาชิก{% endblock %}

{% block content %}
<h2>สมัครสมาชิก</h2>

{% if error %}
  <p class="text-danger">{{ error }}</p>
{% endif %}

<form method="POST" style="max-width: 400px;">
  <input type="text" name="username" placeholder="ชื่อผู้ใช้" required class="form-control mb-2">

  <!-- ช่องรหัสผ่าน + ปุ่มดวงตา -->
  <div class="mb-3 position-relative">
    <input type="password" name="password" id="password" placeholder="รหัสผ่าน" required class="form-control">

    <!-- ดวงตาเปิดปิด -->
    <span onclick="togglePassword()" style="position: absolute; top: 50%; right: 15px; transform: translateY(-50%); cursor: pointer; font-size: 1.2rem;">
      👁
    </span>
  </div>

  <button type="submit" class="btn btn-primary">สมัครสมาชิก</button>
</form>

<!-- สคริปต์เปิด/ปิดรหัสผ่าน -->
<script>
function togglePassword() {
  const passwordInput = document.getElementById('password');
  const icon = event.target;

  if (passwordInput.type === "password") {
    passwordInput.type = "text";
    icon.textContent = "🙈";
  } else {
    passwordInput.type = "password";
    icon.textContent = "👁";
  }
}
</script>
{% endblock %}
